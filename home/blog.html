<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="V-Connect Blog - Stories, insights, and updates from the volunteering community">
    <title>V-Connect | Blog</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
       :root {
    --primary-color: #FFD700;      /* Yellow */
    --secondary-color: #FFE55C;    /* Light Yellow */
    --accent-color: #FFF176;       /* Very Light Yellow */
    --dark-yellow: #FFC107;        /* Dark Yellow */
    --light-yellow: #FFF9C4;       /* Pale Yellow */
    --lighter-yellow: #FFFDE7;     /* Lightest Yellow */
    --text-dark: #2c3e50;          /* Dark Blue-Gray */
    --text-light: #ffffff;         /* White */
    --error-color: #dc3545;        /* Red */
    --success-color: #28a745;      /* Green */
    --dark: #333333;               /* Dark Gray */
    --light: #f8f9fa;             /* Light Gray */
}
body {
            font-family: 'Poppins', sans-serif;
            background: var(--light);
        }

        .navbar {
            background: var(--text-dark);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 1rem 0;
        }

        .navbar-brand {
            color: var(--text-light) !important;
            font-weight: 600;
        }

        .nav-link {
            color: var(--text-light) !important;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            color: var(--primary-color) !important;
        }

        section {
            padding: 80px 0;
        }
.blog-header {
    background: linear-gradient(rgba(44, 62, 80, 0.8), rgba(44, 62, 80, 0.8)),
                url('./assets/hero-bg.jpg') center/cover;
    color: var(--text-light);
    padding: 100px 0;
    text-align: center;
    margin-top: 76px;
}

.featured-post {
    background: var(--text-light);
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(255, 215, 0, 0.1);
    margin-bottom: 2rem;
    transition: transform 0.3s ease;
}

.featured-post:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(255, 215, 0, 0.15);
}

.blog-card {
    background: var(--text-light);
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(255, 215, 0, 0.1);
    margin-bottom: 2rem;
    transition: transform 0.3s ease;
    height: 100%;
}

.blog-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(255, 215, 0, 0.15);
}

.category-badge {
    background: var(--primary-color);
    color: var(--text-dark);
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.8rem;
    margin-bottom: 1rem;
    display: inline-block;
    font-weight: 500;
}

.sidebar-card {
    background: var(--text-light);
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    box-shadow: 0 4px 6px rgba(255, 215, 0, 0.1);
}

.search-form .form-control {
    border-radius: 20px;
    padding: 0.75rem 1.5rem;
    border: 2px solid var(--light-yellow);
}

.search-form .btn {
    border-radius: 20px;
    padding: 0.75rem 1.5rem;
    background-color: var(--primary-color);
    color: var(--text-dark);
    border: none;
}

.search-form .btn:hover {
    background-color: var(--secondary-color);
}

.category-list a {
    color: var(--text-dark);
    text-decoration: none;
    transition: color 0.3s ease;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.category-list a:hover {
    color: var(--primary-color);
}

.btn-primary {
    background: var(--primary-color);
    border: none;
    color: var(--text-dark);
    font-weight: 500;
}

.btn-primary:hover {
    background: var(--secondary-color);
    color: var(--text-dark);
    transform: translateY(-2px);
}

.pagination .page-link {
    color: var(--text-dark);
    border: none;
    padding: 0.5rem 1rem;
    margin: 0 0.25rem;
    border-radius: 5px;
    background-color: var(--text-light);
}

.pagination .page-link:hover,
.pagination .page-item.active .page-link {
    background-color: var(--primary-color);
    color: var(--text-dark);
}
.footer {
        background: var(--text-dark);
        color: var(--text-light);
        padding: 3rem 0;
    }
    
    .social-links a {
        color: var(--text-light);
        text-decoration: none;
        margin: 0 1rem;
        transition: color 0.3s ease;
    }
    
    .social-links a:hover {
        color: var(--primary-color);
    }
    
    .footer a {
        color: var(--text-light);
        text-decoration: none;
    }
    
    .footer a:hover {
        color: var(--primary-color);
    }
/* Modal Styling */
.modal-content {
    border-radius: 15px;
    border: none;
}

.modal-header {
    background: var(--lighter-yellow);
    border-bottom: 1px solid var(--light-yellow);
}

.experience-form .form-control {
    border: 2px solid var(--light-yellow);
    border-radius: 10px;
}

.experience-form .form-control:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 0.2rem rgba(255, 215, 0, 0.25);
}

@media (max-width: 768px) {
    .blog-header {
        margin-top: 56px;
        padding: 60px 0;
    }

    .blog-title {
        font-size: 2rem;
    }

    .featured-post img {
        height: 250px;
    }
}

    </style>
</head>
<body>
   
    <body>
        <nav class="navbar navbar-expand-lg fixed-top">
            <div class="container">
                <a class="navbar-brand" href="home.html">
                    <img src="../assets/v1.png" alt="V-Connect Logo" height="40">
                    V-Connect
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="opportunity.html">
                                <i class="fas fa-search"></i> Opportunities
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="about.html">
                                <i class="fas fa-info-circle"></i> About
                            </a>
                        </li>
                        
                        <li class="nav-item">
                            <a class="nav-link btn btn-primary ms-2" href="signup.html">
                                <i class="fas fa-user"></i> Login
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    
        <header class="blog-header">
            <div class="container">
                <h1 class="blog-title">V-Connect Blog</h1>
                <p class="blog-subtitle">Stories of Impact, Inspiration, and Community Service</p>
            </div>
        </header>
    
        <main class="py-5">
            <div class="container">
                <div class="row">
                    <!-- Main Content Column -->
                    <div class="col-lg-8">
                        <!-- Featured Post -->
                        <article class="featured-post">
                            <img src="../assets/blog1.jpg" alt="Community Service Impact">
                            <div class="featured-content">
                                <span class="category-badge">Featured Story</span>
                                <h2>Making a Difference: Youth-Led Environmental Initiative</h2>
                                <div class="post-meta">
                                    <span><i class="far fa-calendar"></i> March 15, 2024</span>
                                    <span class="ms-3"><i class="far fa-user"></i> Sarah Johnson</span>
                                    <span class="ms-3"><i class="far fa-comments"></i> 12 Comments</span>
                                </div>
                                <p>Discover how a group of young volunteers transformed their local park through a community-driven environmental cleanup initiative, inspiring others to take action...</p>
                                <a href="#" class="btn btn-primary">Read More</a>
                            </div>
                        </article>
    
                        <!-- Regular Blog Posts -->
                        <div class="row g-4 mt-4">
                            <div class="col-md-6">
                                <article class="blog-card">
                                    <img src="../assets/blog2.jpg" alt="Education Volunteering">
                                    <div class="blog-content">
                                        <span class="category-badge">Education</span>
                                        <h3>Virtual Tutoring Program Success Stories</h3>
                                        <div class="post-meta">
                                            <span><i class="far fa-calendar"></i> March 12, 2024</span>
                                        </div>
                                        <p>How online volunteers are helping students succeed in their academic journey...</p>
                                        <a href="#" class="btn btn-primary btn-sm">Read More</a>
                                    </div>
                                </article>
                            </div>
    
                            <div class="col-md-6">
                                <article class="blog-card">
                                    <img src="../assets/blog3.jpg" alt="Elderly Care">
                                    <div class="blog-content">
                                        <span class="category-badge">Healthcare</span>
                                        <h3>Supporting Senior Citizens During the Pandemic</h3>
                                        <div class="post-meta">
                                            <span><i class="far fa-calendar"></i> March 10, 2024</span>
                                        </div>
                                        <p>Innovative ways our volunteers are helping elderly community members stay connected...</p>
                                        <a href="#" class="btn btn-primary btn-sm">Read More</a>
                                    </div>
                                </article>
                            </div>
    
                            <div class="col-md-6">
                                <article class="blog-card">
                                    <img src="../assets/blog4.jpg" alt="Food Drive">
                                    <div class="blog-content">
                                        <span class="category-badge">Community Service</span>
                                        <h3>Monthly Food Drive Initiative Reaches Milestone</h3>
                                        <div class="post-meta">
                                            <span><i class="far fa-calendar"></i> March 8, 2024</span>
                                        </div>
                                        <p>Our community food drive program has served over 10,000 families this year...</p>
                                        <a href="#" class="btn btn-primary btn-sm">Read More</a>
                                    </div>
                                </article>
                            </div>
    
                            <div class="col-md-6">
                                <article class="blog-card">
                                    <img src="../assets/blog5.jpg" alt="Skill Sharing">
                                    <div class="blog-content">
                                        <span class="category-badge">Skills Development</span>
                                        <h3>Volunteer Skills Exchange Program Launch</h3>
                                        <div class="post-meta">
                                            <span><i class="far fa-calendar"></i> March 5, 2024</span>
                                        </div>
                                        <p>New initiative allows volunteers to share skills and learn from each other...</p>
                                        <a href="#" class="btn btn-primary btn-sm">Read More</a>
                                    </div>
                                </article>
                            </div>
                        </div>
    
                        <!-- Pagination -->
                        <nav class="mt-5">
                            <ul class="pagination justify-content-center">
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1">Previous</a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">Next</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
    
                    <!-- Sidebar -->
                    <div class="col-lg-4">
                        <!-- Search Widget -->
                        <div class="sidebar-card">
                            <h4>Search</h4>
                            <form class="search-form">
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="Search posts...">
                                    <button class="btn btn-primary" type="submit">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </div>
                            </form>
                        </div>
    <!-- Regular Blog Posts -->
<div id="blogPosts" class="row g-4 mt-4">
    <!-- Stories will be loaded here dynamically -->
</div>

                        <!-- Categories Widget -->
                        <div class="sidebar-card">
                            <h4>Categories</h4>
                            <ul class="category-list">
                                <li>
                                    <a href="#">
                                        Environmental Projects
                                        <span class="badge bg-primary">12</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        Education & Tutoring
                                        <span class="badge bg-primary">8</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        Healthcare Support
                                        <span class="badge bg-primary">15</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        Community Service
                                        <span class="badge bg-primary">20</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        Skills Development
                                        <span class="badge bg-primary">6</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
    
                        <!-- Recent Posts Widget -->
                        <div class="sidebar-card">
                            <h4>Recent Posts</h4>
                            <div class="list-group">
                                <a href="#" class="list-group-item list-group-item-action">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h6 class="mb-1">Volunteer Recognition Awards 2024</h6>
                                        <small>3 days ago</small>
                                    </div>
                                </a>
                                <a href="#" class="list-group-item list-group-item-action">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h6 class="mb-1">New Partnership with Local Schools</h6>
                                        <small>5 days ago</small>
                                    </div>
                                </a>
                                <a href="#" class="list-group-item list-group-item-action">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h6 class="mb-1">Summer Volunteer Programs</h6>
                                        <small>1 week ago</small>
                                    </div>
                                </a>
                            </div>
                        </div>
    
                        <!-- Share Your Story Widget -->
                        <div class="sidebar-card">
                            <h4>Share Your Story</h4>
                            <p>Have a volunteering experience to share? Submit your story for a chance to be featured on our blog!</p>
                            <button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#storyModal">
                                Submit Your Story
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    
        <!-- Story Submission Modal -->
        <div class="modal fade" id="storyModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Submit Your Story</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <form class="experience-form">
                            <div class="mb-3">
                                <label for="storyTitle" class="form-label">Story Title</label>
                                <input type="text" class="form-control" id="storyTitle" required>
                            </div>
                            <div class="mb-3">
                                <label for="storyCategory" class="form-label">Category</label>
                                <select class="form-select" id="storyCategory" required>
                                    <option value="">Select a category</option>
                                    <option value="environmental">Environmental Projects</option>
                                    <option value="education">Education & Tutoring</option>
                                    <option value="healthcare">Healthcare Support</option>
                                    <option value="community">Community Service</option>
                                    <option value="skills">Skills Development</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="storyContent" class="form-label">Your Story</label>
                                <textarea class="form-control" id="storyContent" rows="5" required></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="storyImage" class="form-label">Upload Images</label>
                                <input type="file" class="form-control" id="storyImage" accept="image/*" multiple>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Submit Story</button>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Footer -->
       

     <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>About V-Connect</h5>
                    <p>Connecting volunteers with meaningful opportunities to create positive change in communities.</p>
                </div>
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="opportunity.html">Opportunities</a></li>
                        <li><a href="blog.html">Blog</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Connect With Us</h5>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
            <hr class="mt-4">
            <div class="text-center">
                <p>&copy; 2024 V-Connect. All rights reserved.</p>
            </div>
        </div>
    </footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
   <!-- Firebase Scripts -->
   <script type="module">
    import { auth, db, storage } from './firebaseConfig.js';
    import { doc, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
    import { ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";


    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const storage = getStorage(app);

    // Function to handle story submission
    async function submitStory(event) {
        event.preventDefault();
        
        const submitButton = document.querySelector('#storyModal .btn-primary');
        submitButton.disabled = true;
        submitButton.innerHTML = '<span class="spinner-border spinner-border-sm"></span> Submitting...';

        try {
            const title = document.getElementById('storyTitle').value;
            const category = document.getElementById('storyCategory').value;
            const content = document.getElementById('storyContent').value;
            const imageFile = document.getElementById('storyImage').files[0];

            let imageUrl = '';
            
            // Upload image if selected
            if (imageFile) {
                const storageRef = ref(storage, `blog-images/${Date.now()}_${imageFile.name}`);
                const snapshot = await uploadBytes(storageRef, imageFile);
                imageUrl = await getDownloadURL(snapshot.ref);
            }

            // Add story to Firestore
            await addDoc(collection(db, "stories"), {
                title: title,
                category: category,
                content: content,
                imageUrl: imageUrl,
                timestamp: new Date(),
                author: "Anonymous", // Update this when user authentication is implemented
                likes: 0,
                comments: []
            });

            // Show success message
            alert('Story submitted successfully!');
            
            // Reset form and close modal
            document.getElementById('storyForm').reset();
            const modal = bootstrap.Modal.getInstance(document.getElementById('storyModal'));
            modal.hide();

            // Refresh stories
            loadStories();

        } catch (error) {
            console.error("Error submitting story: ", error);
            alert('Error submitting story. Please try again.');
        } finally {
            submitButton.disabled = false;
            submitButton.innerHTML = 'Submit Story';
        }
    }

    // Function to load stories
    async function loadStories() {
        const storiesContainer = document.getElementById('blogPosts');
        
        try {
            storiesContainer.innerHTML = '<div class="text-center"><div class="spinner-border"></div></div>';

            const q = query(collection(db, "stories"), orderBy("timestamp", "desc"));
            const querySnapshot = await getDocs(q);
            
            let storiesHTML = '';
            
            querySnapshot.forEach((doc) => {
                const story = doc.data();
                storiesHTML += `
                    <div class="col-md-6">
                        <article class="blog-card">
                            ${story.imageUrl ? `<img src="${story.imageUrl}" alt="${story.title}">` : ''}
                            <div class="blog-content">
                                <span class="category-badge">${story.category}</span>
                                <h3>${story.title}</h3>
                                <div class="post-meta">
                                    <span><i class="far fa-calendar"></i> ${story.timestamp.toDate().toLocaleDateString()}</span>
                                    <span class="ms-3"><i class="far fa-user"></i> ${story.author}</span>
                                </div>
                                <p>${story.content.substring(0, 100)}...</p>
                                <a href="#" class="btn btn-primary btn-sm">Read More</a>
                            </div>
                        </article>
                    </div>
                `;
            });

            storiesContainer.innerHTML = storiesHTML || '<p class="text-center">No stories found.</p>';

        } catch (error) {
            console.error("Error loading stories: ", error);
            storiesContainer.innerHTML = '<p class="text-center text-danger">Error loading stories. Please try again.</p>';
        }
    }

    // Initialize when document is loaded
    document.addEventListener('DOMContentLoaded', function() {
        // Load stories
        loadStories();

        // Add submit handler to form
        document.getElementById('storyForm').addEventListener('submit', submitStory);
    });
</script>

    
</body>
</html>
